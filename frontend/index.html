<dom-module id="marcel-plugin-image">
  <template>
    <style>
      #container {
        display: flex;
        justify-content: center;
        width: 100%;
        height: 100%;
      }

      img {
        width: 100%;
        height: 100%;
      }

      .proportional {
        width: auto;
        height: auto;
        margin: auto;
        max-width: 100%;
        max-height: 100%;
      }
    </style>
    <div id="container">
      <img src$="{{src}}" class$="[[_computeImageClass(saveproportions)]]">
    </div>
  </template>

  <script>
    (() => {
      class Devfest extends Polymer.Element {
        static get is() { return 'marcel-plugin-image' }
        static get properties() {
          return {
            src: String,
            saveproportions: Boolean,
          }
        }

        connectedCallback() {
          super.connectedCallback();
        }

        _computeImageClass(saveProportions) {
          return saveProportions ? "proportional" : ""
        }
      }
      customElements.define(Devfest.is, Devfest);
    })();
  </script>
</dom-module>